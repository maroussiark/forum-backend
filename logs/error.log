{"error":{"message":"\nInvalid `prisma.user.create()` invocation:\n\n{\n  data: {\n    email: \"user@example.com\",\n    password: \"$2b$10$VA1bpZo7ZFSwjfx4lHDXuu/4oLmX.XMeZ2Nb3DOLR8JwZHx2w4I1y\",\n    fullName: \"john doe\",\n    ~~~~~~~~\n    roleId: \"ROLE-00003\",\n?   id?: String,\n?   createdAt?: DateTime,\n?   updatedAt?: DateTime,\n?   profile?: UserProfileUncheckedCreateNestedOneWithoutUserInput,\n?   posts?: PostUncheckedCreateNestedManyWithoutUserInput,\n?   comments?: CommentUncheckedCreateNestedManyWithoutUserInput,\n?   reactions?: ReactionUncheckedCreateNestedManyWithoutUserInput,\n?   messages?: MessageUncheckedCreateNestedManyWithoutSenderInput,\n?   conversationMembers?: ConversationMemberUncheckedCreateNestedManyWithoutUserInput,\n?   notifications?: NotificationUncheckedCreateNestedManyWithoutUserInput,\n?   actorNotifications?: NotificationUncheckedCreateNestedManyWithoutActorInput\n  }\n}\n\nUnknown argument `fullName`. Available options are marked with ?.","stack":"PrismaClientValidationError: \nInvalid `prisma.user.create()` invocation:\n\n{\n  data: {\n    email: \"user@example.com\",\n    password: \"$2b$10$VA1bpZo7ZFSwjfx4lHDXuu/4oLmX.XMeZ2Nb3DOLR8JwZHx2w4I1y\",\n    fullName: \"john doe\",\n    ~~~~~~~~\n    roleId: \"ROLE-00003\",\n?   id?: String,\n?   createdAt?: DateTime,\n?   updatedAt?: DateTime,\n?   profile?: UserProfileUncheckedCreateNestedOneWithoutUserInput,\n?   posts?: PostUncheckedCreateNestedManyWithoutUserInput,\n?   comments?: CommentUncheckedCreateNestedManyWithoutUserInput,\n?   reactions?: ReactionUncheckedCreateNestedManyWithoutUserInput,\n?   messages?: MessageUncheckedCreateNestedManyWithoutSenderInput,\n?   conversationMembers?: ConversationMemberUncheckedCreateNestedManyWithoutUserInput,\n?   notifications?: NotificationUncheckedCreateNestedManyWithoutUserInput,\n?   actorNotifications?: NotificationUncheckedCreateNestedManyWithoutActorInput\n  }\n}\n\nUnknown argument `fullName`. Available options are marked with ?.\n    at Nn (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:33:1363)\n    at ei.handleRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6911)\n    at ei.handleAndLogRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6593)\n    at ei.request (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6300)\n    at async a (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:134:9551)\n    at async AuthService.register (file:///home/maroussia/SVNM/forum-backend/src/modules/auth/auth.service.js:49:18)\n    at async register (file:///home/maroussia/SVNM/forum-backend/src/modules/auth/auth.controller.js:8:18)"},"level":"error","message":"Unhandled error","method":"POST","path":"/api/auth/register","timestamp":"2025-11-22T23:28:50.544Z"}
{"error":{"message":"Cannot read properties of undefined (reading 'create')","stack":"TypeError: Cannot read properties of undefined (reading 'create')\n    at AuthService.generateAndStoreRefreshToken (file:///home/maroussia/SVNM/forum-backend/src/modules/auth/auth.service.js:31:31)\n    at AuthService.register (file:///home/maroussia/SVNM/forum-backend/src/modules/auth/auth.service.js:71:37)\n    at async register (file:///home/maroussia/SVNM/forum-backend/src/modules/auth/auth.controller.js:8:18)"},"level":"error","message":"Unhandled error","method":"POST","path":"/api/auth/register","timestamp":"2025-11-22T23:32:12.595Z"}
{"error":{"message":"\nInvalid `prisma.refreshToken.create()` invocation:\n\n{\n  data: {\n    userId: \"a8209a30-3234-45af-8827-3034f306678d\",\n    token: \"144495079efc2b43450d52c900655aef671d6d9c51366ec7a270614e0d099e82\",\n+   tokenHash: String\n  }\n}\n\nArgument `tokenHash` is missing.","stack":"PrismaClientValidationError: \nInvalid `prisma.refreshToken.create()` invocation:\n\n{\n  data: {\n    userId: \"a8209a30-3234-45af-8827-3034f306678d\",\n    token: \"144495079efc2b43450d52c900655aef671d6d9c51366ec7a270614e0d099e82\",\n+   tokenHash: String\n  }\n}\n\nArgument `tokenHash` is missing.\n    at Nn (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:33:1363)\n    at ei.handleRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6911)\n    at ei.handleAndLogRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6593)\n    at ei.request (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6300)\n    at async a (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:134:9551)\n    at async AuthService.generateAndStoreRefreshToken (file:///home/maroussia/SVNM/forum-backend/src/modules/auth/auth.service.js:31:5)\n    at async AuthService.login (file:///home/maroussia/SVNM/forum-backend/src/modules/auth/auth.service.js:94:26)\n    at async login (file:///home/maroussia/SVNM/forum-backend/src/modules/auth/auth.controller.js:13:18)"},"level":"error","message":"Unhandled error","method":"POST","path":"/api/auth/login","timestamp":"2025-11-22T23:35:56.303Z"}
{"error":{"message":"crypto.randomBytes is not a function","stack":"TypeError: crypto.randomBytes is not a function\n    at AuthService.generateAndStoreRefreshToken (file:///home/maroussia/SVNM/forum-backend/src/modules/auth/auth.service.js:28:26)\n    at AuthService.login (file:///home/maroussia/SVNM/forum-backend/src/modules/auth/auth.service.js:97:37)\n    at async login (file:///home/maroussia/SVNM/forum-backend/src/modules/auth/auth.controller.js:13:18)"},"level":"error","message":"Unhandled error","method":"POST","path":"/api/auth/login","timestamp":"2025-11-22T23:38:26.500Z"}
{"error":{"clientVersion":"6.19.0","code":"P2021","meta":{"modelName":"RefreshToken","table":"public.RefreshToken"},"name":"PrismaClientKnownRequestError"},"level":"error","message":"Prisma error","timestamp":"2025-11-22T23:40:57.065Z"}
{"error":{"message":"AuthService.refreshToken is not a function","stack":"TypeError: AuthService.refreshToken is not a function\n    at refresh (file:///home/maroussia/SVNM/forum-backend/src/modules/auth/auth.controller.js:21:36)\n    at file:///home/maroussia/SVNM/forum-backend/src/shared/middlewares/asyncHandler.js:2:19\n    at Layer.handleRequest (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/route.js:157:13)\n    at file:///home/maroussia/SVNM/forum-backend/src/shared/middlewares/validate.js:20:3\n    at Layer.handleRequest (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/maroussia/SVNM/forum-backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/layer.js:152:17)"},"level":"error","message":"Unhandled error","method":"POST","path":"/api/auth/refresh","timestamp":"2025-11-22T23:45:20.010Z"}
{"error":{"message":"\nInvalid `prisma.refreshToken.findFirst()` invocation:\n\n{\n  where: {\n    token: \"301baa851dc478a20e6629c3fc4d0d2e585f997ba24504467ca0e3640a5316d7\",\n    ~~~~~\n?   AND?: RefreshTokenWhereInput | RefreshTokenWhereInput[],\n?   OR?: RefreshTokenWhereInput[],\n?   NOT?: RefreshTokenWhereInput | RefreshTokenWhereInput[],\n?   id?: StringFilter | String,\n?   userId?: StringFilter | String,\n?   tokenHash?: StringFilter | String,\n?   expiresAt?: DateTimeFilter | DateTime,\n?   createdAt?: DateTimeFilter | DateTime,\n?   user?: UserScalarRelationFilter | UserWhereInput\n  }\n}\n\nUnknown argument `token`. Available options are marked with ?.","stack":"PrismaClientValidationError: \nInvalid `prisma.refreshToken.findFirst()` invocation:\n\n{\n  where: {\n    token: \"301baa851dc478a20e6629c3fc4d0d2e585f997ba24504467ca0e3640a5316d7\",\n    ~~~~~\n?   AND?: RefreshTokenWhereInput | RefreshTokenWhereInput[],\n?   OR?: RefreshTokenWhereInput[],\n?   NOT?: RefreshTokenWhereInput | RefreshTokenWhereInput[],\n?   id?: StringFilter | String,\n?   userId?: StringFilter | String,\n?   tokenHash?: StringFilter | String,\n?   expiresAt?: DateTimeFilter | DateTime,\n?   createdAt?: DateTimeFilter | DateTime,\n?   user?: UserScalarRelationFilter | UserWhereInput\n  }\n}\n\nUnknown argument `token`. Available options are marked with ?.\n    at Nn (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:33:1363)\n    at ei.handleRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6911)\n    at ei.handleAndLogRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6593)\n    at ei.request (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6300)\n    at async a (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:134:9551)\n    at async AuthService.refresh (file:///home/maroussia/SVNM/forum-backend/src/modules/auth/auth.service.js:112:20)\n    at async refresh (file:///home/maroussia/SVNM/forum-backend/src/modules/auth/auth.controller.js:21:18)"},"level":"error","message":"Unhandled error","method":"POST","path":"/api/auth/refresh","timestamp":"2025-11-22T23:46:04.122Z"}
{"error":{"message":"\nInvalid `prisma.user.findFirst()` invocation:\n\n{\n  where: {\n    id: \"a8209a30-3234-45af-8827-3034f306678d\",\n    deletedAt: null,\n    ~~~~~~~~~\n?   AND?: UserWhereInput | UserWhereInput[],\n?   OR?: UserWhereInput[],\n?   NOT?: UserWhereInput | UserWhereInput[],\n?   email?: StringFilter | String,\n?   password?: StringFilter | String,\n?   roleId?: StringFilter | String,\n?   createdAt?: DateTimeFilter | DateTime,\n?   updatedAt?: DateTimeFilter | DateTime,\n?   role?: RoleScalarRelationFilter | RoleWhereInput,\n?   profile?: UserProfileNullableScalarRelationFilter | UserProfileWhereInput | Null,\n?   posts?: PostListRelationFilter,\n?   comments?: CommentListRelationFilter,\n?   reactions?: ReactionListRelationFilter,\n?   messages?: MessageListRelationFilter,\n?   conversationMembers?: ConversationMemberListRelationFilter,\n?   refreshTokens?: RefreshTokenListRelationFilter,\n?   notifications?: NotificationListRelationFilter,\n?   actorNotifications?: NotificationListRelationFilter\n  },\n  select: {\n    id: true,\n    email: true,\n    roleId: true,\n    userProfiles: {\n      select: {\n        fullName: true,\n        avatarUrl: true\n      }\n    }\n  }\n}\n\nUnknown argument `deletedAt`. Available options are marked with ?.","stack":"PrismaClientValidationError: \nInvalid `prisma.user.findFirst()` invocation:\n\n{\n  where: {\n    id: \"a8209a30-3234-45af-8827-3034f306678d\",\n    deletedAt: null,\n    ~~~~~~~~~\n?   AND?: UserWhereInput | UserWhereInput[],\n?   OR?: UserWhereInput[],\n?   NOT?: UserWhereInput | UserWhereInput[],\n?   email?: StringFilter | String,\n?   password?: StringFilter | String,\n?   roleId?: StringFilter | String,\n?   createdAt?: DateTimeFilter | DateTime,\n?   updatedAt?: DateTimeFilter | DateTime,\n?   role?: RoleScalarRelationFilter | RoleWhereInput,\n?   profile?: UserProfileNullableScalarRelationFilter | UserProfileWhereInput | Null,\n?   posts?: PostListRelationFilter,\n?   comments?: CommentListRelationFilter,\n?   reactions?: ReactionListRelationFilter,\n?   messages?: MessageListRelationFilter,\n?   conversationMembers?: ConversationMemberListRelationFilter,\n?   refreshTokens?: RefreshTokenListRelationFilter,\n?   notifications?: NotificationListRelationFilter,\n?   actorNotifications?: NotificationListRelationFilter\n  },\n  select: {\n    id: true,\n    email: true,\n    roleId: true,\n    userProfiles: {\n      select: {\n        fullName: true,\n        avatarUrl: true\n      }\n    }\n  }\n}\n\nUnknown argument `deletedAt`. Available options are marked with ?.\n    at Nn (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:33:1363)\n    at ei.handleRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6911)\n    at ei.handleAndLogRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6593)\n    at ei.request (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6300)\n    at async a (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:134:9551)\n    at async UsersService.getById (file:///home/maroussia/SVNM/forum-backend/src/modules/users/users.service.js:8:18)\n    at async getUser (file:///home/maroussia/SVNM/forum-backend/src/modules/users/users.controller.js:7:18)"},"level":"error","message":"Unhandled error","method":"GET","path":"/api/users/a8209a30-3234-45af-8827-3034f306678d","timestamp":"2025-11-22T23:47:49.487Z"}
{"error":{"message":"\nInvalid `prisma.user.findFirst()` invocation:\n\n{\n  where: {\n    id: \"a8209a30-3234-45af-8827-3034f306678d\",\n    deletedAt: null\n  },\n  select: {\n    id: true,\n    email: true,\n    roleId: true,\n    userProfiles: {\n    ~~~~~~~~~~~~\n      select: {\n        fullName: true,\n        avatarUrl: true\n      }\n    },\n?   password?: true,\n?   createdAt?: true,\n?   updatedAt?: true,\n?   deletedAt?: true,\n?   role?: true,\n?   profile?: true,\n?   posts?: true,\n?   comments?: true,\n?   reactions?: true,\n?   messages?: true,\n?   conversationMembers?: true,\n?   refreshTokens?: true,\n?   notifications?: true,\n?   actorNotifications?: true,\n?   _count?: true\n  }\n}\n\nUnknown field `userProfiles` for select statement on model `User`. Available options are marked with ?.","stack":"PrismaClientValidationError: \nInvalid `prisma.user.findFirst()` invocation:\n\n{\n  where: {\n    id: \"a8209a30-3234-45af-8827-3034f306678d\",\n    deletedAt: null\n  },\n  select: {\n    id: true,\n    email: true,\n    roleId: true,\n    userProfiles: {\n    ~~~~~~~~~~~~\n      select: {\n        fullName: true,\n        avatarUrl: true\n      }\n    },\n?   password?: true,\n?   createdAt?: true,\n?   updatedAt?: true,\n?   deletedAt?: true,\n?   role?: true,\n?   profile?: true,\n?   posts?: true,\n?   comments?: true,\n?   reactions?: true,\n?   messages?: true,\n?   conversationMembers?: true,\n?   refreshTokens?: true,\n?   notifications?: true,\n?   actorNotifications?: true,\n?   _count?: true\n  }\n}\n\nUnknown field `userProfiles` for select statement on model `User`. Available options are marked with ?.\n    at Nn (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:33:1363)\n    at ei.handleRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6911)\n    at ei.handleAndLogRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6593)\n    at ei.request (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6300)\n    at async a (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:134:9551)\n    at async UsersService.getById (file:///home/maroussia/SVNM/forum-backend/src/modules/users/users.service.js:8:18)\n    at async getUser (file:///home/maroussia/SVNM/forum-backend/src/modules/users/users.controller.js:7:18)"},"level":"error","message":"Unhandled error","method":"GET","path":"/api/users/a8209a30-3234-45af-8827-3034f306678d","timestamp":"2025-11-22T23:51:18.897Z"}
{"error":{"message":"Token invalide"},"level":"error","message":"Unhandled error","method":"PUT","path":"/api/users/a8209a30-3234-45af-8827-3034f306678d","timestamp":"2025-11-22T23:58:52.689Z"}
{"error":{"message":"\nInvalid `prisma.user.update()` invocation:\n\n{\n  where: {\n    id: \"a8209a30-3234-45af-8827-3034f306678d\"\n  },\n  data: {\n    email: \"newemail@example.com\",\n    fullName: \"new_username\",\n    ~~~~~~~~\n?   id?: String | StringFieldUpdateOperationsInput,\n?   password?: String | StringFieldUpdateOperationsInput,\n?   createdAt?: DateTime | DateTimeFieldUpdateOperationsInput,\n?   updatedAt?: DateTime | DateTimeFieldUpdateOperationsInput,\n?   deletedAt?: DateTime | NullableDateTimeFieldUpdateOperationsInput | Null,\n?   role?: RoleUpdateOneRequiredWithoutUsersNestedInput,\n?   profile?: UserProfileUpdateOneWithoutUserNestedInput,\n?   posts?: PostUpdateManyWithoutUserNestedInput,\n?   comments?: CommentUpdateManyWithoutUserNestedInput,\n?   reactions?: ReactionUpdateManyWithoutUserNestedInput,\n?   messages?: MessageUpdateManyWithoutSenderNestedInput,\n?   conversationMembers?: ConversationMemberUpdateManyWithoutUserNestedInput,\n?   refreshTokens?: RefreshTokenUpdateManyWithoutUserNestedInput,\n?   notifications?: NotificationUpdateManyWithoutUserNestedInput,\n?   actorNotifications?: NotificationUpdateManyWithoutActorNestedInput\n  },\n  select: {\n    id: true,\n    email: true,\n    roleId: true,\n    profile: {\n      select: {\n        fullName: true,\n        avatarUrl: true\n      }\n    }\n  }\n}\n\nUnknown argument `fullName`. Available options are marked with ?.","stack":"PrismaClientValidationError: \nInvalid `prisma.user.update()` invocation:\n\n{\n  where: {\n    id: \"a8209a30-3234-45af-8827-3034f306678d\"\n  },\n  data: {\n    email: \"newemail@example.com\",\n    fullName: \"new_username\",\n    ~~~~~~~~\n?   id?: String | StringFieldUpdateOperationsInput,\n?   password?: String | StringFieldUpdateOperationsInput,\n?   createdAt?: DateTime | DateTimeFieldUpdateOperationsInput,\n?   updatedAt?: DateTime | DateTimeFieldUpdateOperationsInput,\n?   deletedAt?: DateTime | NullableDateTimeFieldUpdateOperationsInput | Null,\n?   role?: RoleUpdateOneRequiredWithoutUsersNestedInput,\n?   profile?: UserProfileUpdateOneWithoutUserNestedInput,\n?   posts?: PostUpdateManyWithoutUserNestedInput,\n?   comments?: CommentUpdateManyWithoutUserNestedInput,\n?   reactions?: ReactionUpdateManyWithoutUserNestedInput,\n?   messages?: MessageUpdateManyWithoutSenderNestedInput,\n?   conversationMembers?: ConversationMemberUpdateManyWithoutUserNestedInput,\n?   refreshTokens?: RefreshTokenUpdateManyWithoutUserNestedInput,\n?   notifications?: NotificationUpdateManyWithoutUserNestedInput,\n?   actorNotifications?: NotificationUpdateManyWithoutActorNestedInput\n  },\n  select: {\n    id: true,\n    email: true,\n    roleId: true,\n    profile: {\n      select: {\n        fullName: true,\n        avatarUrl: true\n      }\n    }\n  }\n}\n\nUnknown argument `fullName`. Available options are marked with ?.\n    at Nn (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:33:1363)\n    at ei.handleRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6911)\n    at ei.handleAndLogRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6593)\n    at ei.request (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6300)\n    at async a (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:134:9551)\n    at async updateUser (file:///home/maroussia/SVNM/forum-backend/src/modules/users/users.controller.js:12:21)"},"level":"error","message":"Unhandled error","method":"PUT","path":"/api/users/a8209a30-3234-45af-8827-3034f306678d","timestamp":"2025-11-23T00:10:14.122Z"}
{"error":{"message":"uploads/avatars/avatar-1763857013696.webp: unable to open for write\nsystem error: No such file or directory\nuploads/avatars/avatar-1763857013696.webp: write error\nsystem error: No such file or directory","stack":"Error: uploads/avatars/avatar-1763857013696.webp: unable to open for write\nsystem error: No such file or directory\nuploads/avatars/avatar-1763857013696.webp: write error\nsystem error: No such file or directory\n    at Sharp.toFile (/home/maroussia/SVNM/forum-backend/node_modules/sharp/lib/output.js:90:19)\n    at processAvatar (file:///home/maroussia/SVNM/forum-backend/src/modules/profiles/profile.upload.js:18:6)\n    at ProfileService.updateProfile (file:///home/maroussia/SVNM/forum-backend/src/modules/profiles/profile.service.js:40:25)\n    at async updateProfile (file:///home/maroussia/SVNM/forum-backend/src/modules/profiles/profile.controller.js:12:21)"},"level":"error","message":"Unhandled error","method":"PUT","path":"/api/profiles/a8209a30-3234-45af-8827-3034f306678d","timestamp":"2025-11-23T00:16:53.786Z"}
{"error":{"message":"Cannot set property query of #<IncomingMessage> which has only a getter","stack":"TypeError: Cannot set property query of #<IncomingMessage> which has only a getter\n    at file:///home/maroussia/SVNM/forum-backend/src/shared/middlewares/validate.js:19:17\n    at Layer.handleRequest (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/maroussia/SVNM/forum-backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/layer.js:152:17)\n    at /home/maroussia/SVNM/forum-backend/node_modules/router/index.js:295:15\n    at processParams (/home/maroussia/SVNM/forum-backend/node_modules/router/index.js:582:12)\n    at next (/home/maroussia/SVNM/forum-backend/node_modules/router/index.js:291:5)\n    at Function.handle (/home/maroussia/SVNM/forum-backend/node_modules/router/index.js:186:3)"},"level":"error","message":"Unhandled error","method":"GET","path":"/api/posts?page=1&limit=10","timestamp":"2025-11-23T00:20:13.051Z"}
{"error":{"message":"ENOENT: no such file or directory, open '/home/maroussia/SVNM/forum-backend/uploads/temp/conception_1763857478712_4963f354ecef8197.sql'","stack":"Error: ENOENT: no such file or directory, open '/home/maroussia/SVNM/forum-backend/uploads/temp/conception_1763857478712_4963f354ecef8197.sql'"},"level":"error","message":"Unhandled error","method":"POST","path":"/api/posts","timestamp":"2025-11-23T00:24:38.717Z"}
{"error":{"message":"ENOENT: no such file or directory, rename '/home/maroussia/SVNM/forum-backend/uploads/temp/conception_1763857567473_de50d63f0bfaf3fd.sql' -> '/home/maroussia/SVNM/forum-backend/uploads/others/conception_1763857567473_de50d63f0bfaf3fd.sql'","stack":"Error: ENOENT: no such file or directory, rename '/home/maroussia/SVNM/forum-backend/uploads/temp/conception_1763857567473_de50d63f0bfaf3fd.sql' -> '/home/maroussia/SVNM/forum-backend/uploads/others/conception_1763857567473_de50d63f0bfaf3fd.sql'\n    at async Object.rename (node:internal/fs/promises:778:10)\n    at async AttachmentService.processAndStore (file:///home/maroussia/SVNM/forum-backend/src/modules/posts/attachment.service.js:32:7)\n    at async PostService.create (file:///home/maroussia/SVNM/forum-backend/src/modules/posts/post.service.js:22:7)\n    at async create (file:///home/maroussia/SVNM/forum-backend/src/modules/posts/post.controller.js:7:18)"},"level":"error","message":"Unhandled error","method":"POST","path":"/api/posts","timestamp":"2025-11-23T00:26:07.536Z"}
{"error":{"message":"ENOENT: no such file or directory, rename '/home/maroussia/SVNM/forum-backend/uploads/temp/conception_1763857731149_6e3ad7be0f983f3e.sql' -> '/home/maroussia/SVNM/forum-backend/uploads/others/conception_1763857731149_6e3ad7be0f983f3e.sql'","stack":"Error: ENOENT: no such file or directory, rename '/home/maroussia/SVNM/forum-backend/uploads/temp/conception_1763857731149_6e3ad7be0f983f3e.sql' -> '/home/maroussia/SVNM/forum-backend/uploads/others/conception_1763857731149_6e3ad7be0f983f3e.sql'\n    at async Object.rename (node:internal/fs/promises:778:10)\n    at async AttachmentService.processAndStore (file:///home/maroussia/SVNM/forum-backend/src/modules/posts/attachment.service.js:32:7)\n    at async PostService.create (file:///home/maroussia/SVNM/forum-backend/src/modules/posts/post.service.js:22:7)\n    at async create (file:///home/maroussia/SVNM/forum-backend/src/modules/posts/post.controller.js:7:18)"},"level":"error","message":"Unhandled error","method":"POST","path":"/api/posts","timestamp":"2025-11-23T00:28:51.460Z"}
{"error":{"message":"Token expiré ou invalide"},"level":"error","message":"Unhandled error","method":"POST","path":"/api/posts","timestamp":"2025-11-23T00:47:41.334Z"}
{"error":{"message":"\nInvalid `prisma.reaction.upsert()` invocation:\n\n{\n  where: {\n    userId_postId_commentId: {\n      userId: \"a8209a30-3234-45af-8827-3034f306678d\",\n      postId: \"PST-00003\",\n+     commentId: String\n    }\n  },\n  update: {\n    type: \"like\"\n  },\n  create: {\n    userId: \"a8209a30-3234-45af-8827-3034f306678d\",\n    postId: \"PST-00003\",\n    commentId: null,\n    type: \"like\"\n  },\n  include: {\n    user: {\n      select: {\n        id: true,\n        email: true,\n        roleId: true,\n        profile: {\n          select: {\n            fullName: true,\n            avatarUrl: true\n          }\n        }\n      }\n    }\n  }\n}\n\nArgument `commentId` must not be null.","stack":"PrismaClientValidationError: \nInvalid `prisma.reaction.upsert()` invocation:\n\n{\n  where: {\n    userId_postId_commentId: {\n      userId: \"a8209a30-3234-45af-8827-3034f306678d\",\n      postId: \"PST-00003\",\n+     commentId: String\n    }\n  },\n  update: {\n    type: \"like\"\n  },\n  create: {\n    userId: \"a8209a30-3234-45af-8827-3034f306678d\",\n    postId: \"PST-00003\",\n    commentId: null,\n    type: \"like\"\n  },\n  include: {\n    user: {\n      select: {\n        id: true,\n        email: true,\n        roleId: true,\n        profile: {\n          select: {\n            fullName: true,\n            avatarUrl: true\n          }\n        }\n      }\n    }\n  }\n}\n\nArgument `commentId` must not be null.\n    at Nn (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:33:1363)\n    at ei.handleRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6911)\n    at ei.handleAndLogRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6593)\n    at ei.request (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6300)\n    at async a (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:134:9551)\n    at async ReactionService.react (file:///home/maroussia/SVNM/forum-backend/src/modules/reactions/reaction.service.js:54:22)\n    at async react (file:///home/maroussia/SVNM/forum-backend/src/modules/reactions/reaction.controller.js:6:20)"},"level":"error","message":"Unhandled error","method":"POST","path":"/api/reactions","timestamp":"2025-11-23T00:57:55.593Z"}
{"error":{"message":"\nInvalid `prisma.reaction.upsert()` invocation:\n\n{\n  where: {\n    userId_postId_commentId: {\n    ~~~~~~~~~~~~~~~~~~~~~~~\n      userId: \"a8209a30-3234-45af-8827-3034f306678d\",\n      postId: \"PST-00003\",\n      commentId: null\n    },\n?   id?: String,\n?   userId_postId?: ReactionUserIdPostIdCompoundUniqueInput,\n?   userId_commentId?: ReactionUserIdCommentIdCompoundUniqueInput,\n?   AND?: ReactionWhereInput | ReactionWhereInput[],\n?   OR?: ReactionWhereInput[],\n?   NOT?: ReactionWhereInput | ReactionWhereInput[],\n?   userId?: StringFilter | String,\n?   postId?: StringNullableFilter | String | Null,\n?   commentId?: StringNullableFilter | String | Null,\n?   reactionType?: StringFilter | String,\n?   createdAt?: DateTimeFilter | DateTime,\n?   user?: UserScalarRelationFilter | UserWhereInput,\n?   post?: PostNullableScalarRelationFilter | PostWhereInput | Null,\n?   comment?: CommentNullableScalarRelationFilter | CommentWhereInput | Null\n  },\n  update: {\n    type: \"like\"\n  },\n  create: {\n    userId: \"a8209a30-3234-45af-8827-3034f306678d\",\n    postId: \"PST-00003\",\n    commentId: null,\n    type: \"like\"\n  },\n  include: {\n    user: {\n      select: {\n        id: true,\n        email: true,\n        roleId: true,\n        profile: {\n          select: {\n            fullName: true,\n            avatarUrl: true\n          }\n        }\n      }\n    }\n  }\n}\n\nUnknown argument `userId_postId_commentId`. Available options are marked with ?.","stack":"PrismaClientValidationError: \nInvalid `prisma.reaction.upsert()` invocation:\n\n{\n  where: {\n    userId_postId_commentId: {\n    ~~~~~~~~~~~~~~~~~~~~~~~\n      userId: \"a8209a30-3234-45af-8827-3034f306678d\",\n      postId: \"PST-00003\",\n      commentId: null\n    },\n?   id?: String,\n?   userId_postId?: ReactionUserIdPostIdCompoundUniqueInput,\n?   userId_commentId?: ReactionUserIdCommentIdCompoundUniqueInput,\n?   AND?: ReactionWhereInput | ReactionWhereInput[],\n?   OR?: ReactionWhereInput[],\n?   NOT?: ReactionWhereInput | ReactionWhereInput[],\n?   userId?: StringFilter | String,\n?   postId?: StringNullableFilter | String | Null,\n?   commentId?: StringNullableFilter | String | Null,\n?   reactionType?: StringFilter | String,\n?   createdAt?: DateTimeFilter | DateTime,\n?   user?: UserScalarRelationFilter | UserWhereInput,\n?   post?: PostNullableScalarRelationFilter | PostWhereInput | Null,\n?   comment?: CommentNullableScalarRelationFilter | CommentWhereInput | Null\n  },\n  update: {\n    type: \"like\"\n  },\n  create: {\n    userId: \"a8209a30-3234-45af-8827-3034f306678d\",\n    postId: \"PST-00003\",\n    commentId: null,\n    type: \"like\"\n  },\n  include: {\n    user: {\n      select: {\n        id: true,\n        email: true,\n        roleId: true,\n        profile: {\n          select: {\n            fullName: true,\n            avatarUrl: true\n          }\n        }\n      }\n    }\n  }\n}\n\nUnknown argument `userId_postId_commentId`. Available options are marked with ?.\n    at Nn (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:33:1363)\n    at ei.handleRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6911)\n    at ei.handleAndLogRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6593)\n    at ei.request (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6300)\n    at async a (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:134:9551)\n    at async ReactionService.react (file:///home/maroussia/SVNM/forum-backend/src/modules/reactions/reaction.service.js:54:22)\n    at async react (file:///home/maroussia/SVNM/forum-backend/src/modules/reactions/reaction.controller.js:6:20)"},"level":"error","message":"Unhandled error","method":"POST","path":"/api/reactions","timestamp":"2025-11-23T01:02:46.990Z"}
{"error":{"message":"\nInvalid `prisma.reaction.upsert()` invocation:\n\n{\n  where: {\n    userId_postId_commentId: {\n    ~~~~~~~~~~~~~~~~~~~~~~~\n      userId: \"a8209a30-3234-45af-8827-3034f306678d\",\n      postId: \"PST-00003\",\n      commentId: null\n    },\n?   id?: String,\n?   userId_postId?: ReactionUserIdPostIdCompoundUniqueInput,\n?   userId_commentId?: ReactionUserIdCommentIdCompoundUniqueInput,\n?   AND?: ReactionWhereInput | ReactionWhereInput[],\n?   OR?: ReactionWhereInput[],\n?   NOT?: ReactionWhereInput | ReactionWhereInput[],\n?   userId?: StringFilter | String,\n?   postId?: StringNullableFilter | String | Null,\n?   commentId?: StringNullableFilter | String | Null,\n?   reactionType?: StringFilter | String,\n?   createdAt?: DateTimeFilter | DateTime,\n?   user?: UserScalarRelationFilter | UserWhereInput,\n?   post?: PostNullableScalarRelationFilter | PostWhereInput | Null,\n?   comment?: CommentNullableScalarRelationFilter | CommentWhereInput | Null\n  },\n  update: {\n    type: \"like\"\n  },\n  create: {\n    userId: \"a8209a30-3234-45af-8827-3034f306678d\",\n    postId: \"PST-00003\",\n    commentId: null,\n    type: \"like\"\n  },\n  include: {\n    user: {\n      select: {\n        id: true,\n        email: true,\n        roleId: true,\n        profile: {\n          select: {\n            fullName: true,\n            avatarUrl: true\n          }\n        }\n      }\n    }\n  }\n}\n\nUnknown argument `userId_postId_commentId`. Available options are marked with ?.","stack":"PrismaClientValidationError: \nInvalid `prisma.reaction.upsert()` invocation:\n\n{\n  where: {\n    userId_postId_commentId: {\n    ~~~~~~~~~~~~~~~~~~~~~~~\n      userId: \"a8209a30-3234-45af-8827-3034f306678d\",\n      postId: \"PST-00003\",\n      commentId: null\n    },\n?   id?: String,\n?   userId_postId?: ReactionUserIdPostIdCompoundUniqueInput,\n?   userId_commentId?: ReactionUserIdCommentIdCompoundUniqueInput,\n?   AND?: ReactionWhereInput | ReactionWhereInput[],\n?   OR?: ReactionWhereInput[],\n?   NOT?: ReactionWhereInput | ReactionWhereInput[],\n?   userId?: StringFilter | String,\n?   postId?: StringNullableFilter | String | Null,\n?   commentId?: StringNullableFilter | String | Null,\n?   reactionType?: StringFilter | String,\n?   createdAt?: DateTimeFilter | DateTime,\n?   user?: UserScalarRelationFilter | UserWhereInput,\n?   post?: PostNullableScalarRelationFilter | PostWhereInput | Null,\n?   comment?: CommentNullableScalarRelationFilter | CommentWhereInput | Null\n  },\n  update: {\n    type: \"like\"\n  },\n  create: {\n    userId: \"a8209a30-3234-45af-8827-3034f306678d\",\n    postId: \"PST-00003\",\n    commentId: null,\n    type: \"like\"\n  },\n  include: {\n    user: {\n      select: {\n        id: true,\n        email: true,\n        roleId: true,\n        profile: {\n          select: {\n            fullName: true,\n            avatarUrl: true\n          }\n        }\n      }\n    }\n  }\n}\n\nUnknown argument `userId_postId_commentId`. Available options are marked with ?.\n    at Nn (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:33:1363)\n    at ei.handleRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6911)\n    at ei.handleAndLogRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6593)\n    at ei.request (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6300)\n    at async a (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:134:9551)\n    at async ReactionService.react (file:///home/maroussia/SVNM/forum-backend/src/modules/reactions/reaction.service.js:54:22)\n    at async react (file:///home/maroussia/SVNM/forum-backend/src/modules/reactions/reaction.controller.js:6:20)"},"level":"error","message":"Unhandled error","method":"POST","path":"/api/reactions","timestamp":"2025-11-23T01:07:10.982Z"}
{"error":{"message":"\nInvalid `prisma.reaction.upsert()` invocation:\n\n{\n  where: {\n    userId_postId_commentId: {\n    ~~~~~~~~~~~~~~~~~~~~~~~\n      userId: \"a8209a30-3234-45af-8827-3034f306678d\",\n      postId: \"PST-00003\",\n      commentId: null\n    },\n?   id?: String,\n?   userId_postId?: ReactionUserIdPostIdCompoundUniqueInput,\n?   userId_commentId?: ReactionUserIdCommentIdCompoundUniqueInput,\n?   AND?: ReactionWhereInput | ReactionWhereInput[],\n?   OR?: ReactionWhereInput[],\n?   NOT?: ReactionWhereInput | ReactionWhereInput[],\n?   userId?: StringFilter | String,\n?   postId?: StringNullableFilter | String | Null,\n?   commentId?: StringNullableFilter | String | Null,\n?   reactionType?: StringFilter | String,\n?   createdAt?: DateTimeFilter | DateTime,\n?   user?: UserScalarRelationFilter | UserWhereInput,\n?   post?: PostNullableScalarRelationFilter | PostWhereInput | Null,\n?   comment?: CommentNullableScalarRelationFilter | CommentWhereInput | Null\n  },\n  update: {\n    type: \"like\"\n  },\n  create: {\n    userId: \"a8209a30-3234-45af-8827-3034f306678d\",\n    postId: \"PST-00003\",\n    commentId: null,\n    type: \"like\"\n  },\n  include: {\n    user: {\n      select: {\n        id: true,\n        email: true,\n        roleId: true,\n        profile: {\n          select: {\n            fullName: true,\n            avatarUrl: true\n          }\n        }\n      }\n    }\n  }\n}\n\nUnknown argument `userId_postId_commentId`. Available options are marked with ?.","stack":"PrismaClientValidationError: \nInvalid `prisma.reaction.upsert()` invocation:\n\n{\n  where: {\n    userId_postId_commentId: {\n    ~~~~~~~~~~~~~~~~~~~~~~~\n      userId: \"a8209a30-3234-45af-8827-3034f306678d\",\n      postId: \"PST-00003\",\n      commentId: null\n    },\n?   id?: String,\n?   userId_postId?: ReactionUserIdPostIdCompoundUniqueInput,\n?   userId_commentId?: ReactionUserIdCommentIdCompoundUniqueInput,\n?   AND?: ReactionWhereInput | ReactionWhereInput[],\n?   OR?: ReactionWhereInput[],\n?   NOT?: ReactionWhereInput | ReactionWhereInput[],\n?   userId?: StringFilter | String,\n?   postId?: StringNullableFilter | String | Null,\n?   commentId?: StringNullableFilter | String | Null,\n?   reactionType?: StringFilter | String,\n?   createdAt?: DateTimeFilter | DateTime,\n?   user?: UserScalarRelationFilter | UserWhereInput,\n?   post?: PostNullableScalarRelationFilter | PostWhereInput | Null,\n?   comment?: CommentNullableScalarRelationFilter | CommentWhereInput | Null\n  },\n  update: {\n    type: \"like\"\n  },\n  create: {\n    userId: \"a8209a30-3234-45af-8827-3034f306678d\",\n    postId: \"PST-00003\",\n    commentId: null,\n    type: \"like\"\n  },\n  include: {\n    user: {\n      select: {\n        id: true,\n        email: true,\n        roleId: true,\n        profile: {\n          select: {\n            fullName: true,\n            avatarUrl: true\n          }\n        }\n      }\n    }\n  }\n}\n\nUnknown argument `userId_postId_commentId`. Available options are marked with ?.\n    at Nn (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:33:1363)\n    at ei.handleRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6911)\n    at ei.handleAndLogRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6593)\n    at ei.request (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6300)\n    at async a (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:134:9551)\n    at async ReactionService.react (file:///home/maroussia/SVNM/forum-backend/src/modules/reactions/reaction.service.js:54:22)\n    at async react (file:///home/maroussia/SVNM/forum-backend/src/modules/reactions/reaction.controller.js:6:20)"},"level":"error","message":"Unhandled error","method":"POST","path":"/api/reactions","timestamp":"2025-11-23T01:09:53.817Z"}
{"error":{"message":"Unexpected token 'C', ...\"ommentId\":CMT-00001,\"... is not valid JSON","stack":"SyntaxError: Unexpected token 'C', ...\"ommentId\":CMT-00001,\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at parse (/home/maroussia/SVNM/forum-backend/node_modules/body-parser/lib/types/json.js:77:19)\n    at /home/maroussia/SVNM/forum-backend/node_modules/body-parser/lib/read.js:123:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/home/maroussia/SVNM/forum-backend/node_modules/raw-body/index.js:238:16)\n    at done (/home/maroussia/SVNM/forum-backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/maroussia/SVNM/forum-backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)"},"level":"error","message":"Unhandled error","method":"POST","path":"/api/reactions","timestamp":"2025-11-23T01:17:42.314Z"}
{"error":{"message":"Unexpected token 'C', ...\"ommentId\":CMT-00001,\"... is not valid JSON","stack":"SyntaxError: Unexpected token 'C', ...\"ommentId\":CMT-00001,\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at parse (/home/maroussia/SVNM/forum-backend/node_modules/body-parser/lib/types/json.js:77:19)\n    at /home/maroussia/SVNM/forum-backend/node_modules/body-parser/lib/read.js:123:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/home/maroussia/SVNM/forum-backend/node_modules/raw-body/index.js:238:16)\n    at done (/home/maroussia/SVNM/forum-backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/maroussia/SVNM/forum-backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)"},"level":"error","message":"Unhandled error","method":"POST","path":"/api/reactions","timestamp":"2025-11-23T01:17:58.236Z"}
{"error":{"message":"Unexpected token 'C', ...\"ommentId\":CMT-00001,\"... is not valid JSON","stack":"SyntaxError: Unexpected token 'C', ...\"ommentId\":CMT-00001,\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at parse (/home/maroussia/SVNM/forum-backend/node_modules/body-parser/lib/types/json.js:77:19)\n    at /home/maroussia/SVNM/forum-backend/node_modules/body-parser/lib/read.js:123:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/home/maroussia/SVNM/forum-backend/node_modules/raw-body/index.js:238:16)\n    at done (/home/maroussia/SVNM/forum-backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/maroussia/SVNM/forum-backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)"},"level":"error","message":"Unhandled error","method":"POST","path":"/api/reactions","timestamp":"2025-11-23T01:20:15.218Z"}
{"error":{"message":"\nInvalid `prisma.notification.findMany()` invocation:\n\n{\n  where: {\n    userId: \"a8209a30-3234-45af-8827-3034f306678d\"\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  },\n  skip: 0,\n  take: 20,\n  include: {\n    actor: {\n      select: {\n        id: true,\n        userProfiles: {\n        ~~~~~~~~~~~~\n          select: {\n            fullName: true,\n            avatarUrl: true\n          }\n        },\n?       email?: true,\n?       password?: true,\n?       roleId?: true,\n?       createdAt?: true,\n?       updatedAt?: true,\n?       deletedAt?: true,\n?       role?: true,\n?       profile?: true,\n?       posts?: true,\n?       comments?: true,\n?       reactions?: true,\n?       messages?: true,\n?       conversationMembers?: true,\n?       refreshTokens?: true,\n?       notifications?: true,\n?       actorNotifications?: true,\n?       _count?: true\n      }\n    }\n  }\n}\n\nUnknown field `userProfiles` for select statement on model `User`. Available options are marked with ?.","stack":"PrismaClientValidationError: \nInvalid `prisma.notification.findMany()` invocation:\n\n{\n  where: {\n    userId: \"a8209a30-3234-45af-8827-3034f306678d\"\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  },\n  skip: 0,\n  take: 20,\n  include: {\n    actor: {\n      select: {\n        id: true,\n        userProfiles: {\n        ~~~~~~~~~~~~\n          select: {\n            fullName: true,\n            avatarUrl: true\n          }\n        },\n?       email?: true,\n?       password?: true,\n?       roleId?: true,\n?       createdAt?: true,\n?       updatedAt?: true,\n?       deletedAt?: true,\n?       role?: true,\n?       profile?: true,\n?       posts?: true,\n?       comments?: true,\n?       reactions?: true,\n?       messages?: true,\n?       conversationMembers?: true,\n?       refreshTokens?: true,\n?       notifications?: true,\n?       actorNotifications?: true,\n?       _count?: true\n      }\n    }\n  }\n}\n\nUnknown field `userProfiles` for select statement on model `User`. Available options are marked with ?.\n    at Nn (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:33:1363)\n    at ei.handleRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6911)\n    at ei.handleAndLogRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6593)\n    at ei.request (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6300)\n    at async a (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:134:9551)\n    at async list (file:///home/maroussia/SVNM/forum-backend/src/modules/notifications/notification.controller.js:10:27)"},"level":"error","message":"Unhandled error","method":"GET","path":"/api/notifications","timestamp":"2025-11-23T01:22:51.104Z"}
{"error":{"message":"\nInvalid `prisma.notification.findMany()` invocation:\n\n{\n  where: {\n    userId: \"a8209a30-3234-45af-8827-3034f306678d\"\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  },\n  skip: 0,\n  take: 10,\n  include: {\n    actor: {\n      select: {\n        id: true,\n        userProfiles: {\n        ~~~~~~~~~~~~\n          select: {\n            fullName: true,\n            avatarUrl: true\n          }\n        },\n?       email?: true,\n?       password?: true,\n?       roleId?: true,\n?       createdAt?: true,\n?       updatedAt?: true,\n?       deletedAt?: true,\n?       role?: true,\n?       profile?: true,\n?       posts?: true,\n?       comments?: true,\n?       reactions?: true,\n?       messages?: true,\n?       conversationMembers?: true,\n?       refreshTokens?: true,\n?       notifications?: true,\n?       actorNotifications?: true,\n?       _count?: true\n      }\n    }\n  }\n}\n\nUnknown field `userProfiles` for select statement on model `User`. Available options are marked with ?.","stack":"PrismaClientValidationError: \nInvalid `prisma.notification.findMany()` invocation:\n\n{\n  where: {\n    userId: \"a8209a30-3234-45af-8827-3034f306678d\"\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  },\n  skip: 0,\n  take: 10,\n  include: {\n    actor: {\n      select: {\n        id: true,\n        userProfiles: {\n        ~~~~~~~~~~~~\n          select: {\n            fullName: true,\n            avatarUrl: true\n          }\n        },\n?       email?: true,\n?       password?: true,\n?       roleId?: true,\n?       createdAt?: true,\n?       updatedAt?: true,\n?       deletedAt?: true,\n?       role?: true,\n?       profile?: true,\n?       posts?: true,\n?       comments?: true,\n?       reactions?: true,\n?       messages?: true,\n?       conversationMembers?: true,\n?       refreshTokens?: true,\n?       notifications?: true,\n?       actorNotifications?: true,\n?       _count?: true\n      }\n    }\n  }\n}\n\nUnknown field `userProfiles` for select statement on model `User`. Available options are marked with ?.\n    at Nn (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:33:1363)\n    at ei.handleRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6911)\n    at ei.handleAndLogRequestError (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6593)\n    at ei.request (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:125:6300)\n    at async a (/home/maroussia/SVNM/forum-backend/src/generated/prisma/runtime/library.js:134:9551)\n    at async list (file:///home/maroussia/SVNM/forum-backend/src/modules/notifications/notification.controller.js:10:27)"},"level":"error","message":"Unhandled error","method":"GET","path":"/api/notifications?page=1&limit=10","timestamp":"2025-11-23T01:24:00.634Z"}
{"error":{"message":"fn is not a function","stack":"TypeError: fn is not a function\n    at file:///home/maroussia/SVNM/forum-backend/src/shared/middlewares/asyncHandler.js:2:19\n    at Layer.handleRequest (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/route.js:157:13)\n    at file:///home/maroussia/SVNM/forum-backend/src/middlewares/requirePermission.js:16:5\n    at Layer.handleRequest (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/route.js:157:13)\n    at file:///home/maroussia/SVNM/forum-backend/src/middlewares/auth.js:17:7\n    at Layer.handleRequest (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/route.js:117:3)"},"level":"error","message":"Unhandled error","method":"GET","path":"/api/messages/conversations","timestamp":"2025-11-23T01:47:13.105Z"}
{"error":{"message":"Token expiré ou invalide"},"level":"error","message":"Unhandled error","method":"GET","path":"/api/messages/conversations","timestamp":"2025-11-23T01:51:02.697Z"}
{"error":{"message":"fn is not a function","stack":"TypeError: fn is not a function\n    at file:///home/maroussia/SVNM/forum-backend/src/shared/middlewares/asyncHandler.js:2:19\n    at Layer.handleRequest (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/route.js:157:13)\n    at file:///home/maroussia/SVNM/forum-backend/src/middlewares/requirePermission.js:16:5\n    at Layer.handleRequest (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/route.js:157:13)\n    at file:///home/maroussia/SVNM/forum-backend/src/middlewares/auth.js:17:7\n    at Layer.handleRequest (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/route.js:117:3)"},"level":"error","message":"Unhandled error","method":"GET","path":"/api/messages/conversations","timestamp":"2025-11-23T01:51:45.866Z"}
{"error":{"message":"ConversationService.list is not a function","stack":"TypeError: ConversationService.list is not a function\n    at list (file:///home/maroussia/SVNM/forum-backend/src/modules/messages/conversation.controller.js:11:51)\n    at file:///home/maroussia/SVNM/forum-backend/src/shared/middlewares/asyncHandler.js:2:19\n    at Layer.handleRequest (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/route.js:157:13)\n    at file:///home/maroussia/SVNM/forum-backend/src/middlewares/requirePermission.js:16:5\n    at Layer.handleRequest (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/route.js:157:13)\n    at file:///home/maroussia/SVNM/forum-backend/src/middlewares/auth.js:17:7\n    at Layer.handleRequest (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/route.js:157:13)"},"level":"error","message":"Unhandled error","method":"GET","path":"/api/messages/conversations","timestamp":"2025-11-23T01:52:11.292Z"}
{"error":{"message":"ConversationService.listUserConversations is not a function","stack":"TypeError: ConversationService.listUserConversations is not a function\n    at listConversations (file:///home/maroussia/SVNM/forum-backend/src/modules/messages/conversation.controller.js:15:44)\n    at file:///home/maroussia/SVNM/forum-backend/src/shared/middlewares/asyncHandler.js:2:19\n    at Layer.handleRequest (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/route.js:157:13)\n    at file:///home/maroussia/SVNM/forum-backend/src/middlewares/requirePermission.js:16:5\n    at Layer.handleRequest (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/route.js:157:13)\n    at file:///home/maroussia/SVNM/forum-backend/src/middlewares/auth.js:17:7\n    at Layer.handleRequest (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/maroussia/SVNM/forum-backend/node_modules/router/lib/route.js:157:13)"},"level":"error","message":"Unhandled error","method":"GET","path":"/api/messages/conversations","timestamp":"2025-11-23T01:53:29.705Z"}
{"error":{"message":"Token manquant"},"level":"error","message":"Unhandled error","method":"POST","path":"/api/messages/conversations","timestamp":"2025-11-23T02:01:20.885Z"}
